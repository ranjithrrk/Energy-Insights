<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IEX Power Analysis | Ranjith's Energy Digest</title>
    
    <!-- Chart.js - Lightweight & Native JS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Tailwind CSS for Styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #fdfdfd; 
            color: #1a1a1a;
        }
        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="fixed top-0 left-0 w-full z-50 flex justify-between items-center px-[5%] py-4 bg-white/90 backdrop-blur-md border-b border-gray-200">
        <a href="https://ranjithrrk.github.io/Energy-Insights/" class="text-[1.15rem] font-extrabold tracking-tight text-[#0f172a] uppercase no-underline">
            Ranjith’s Energy Digest
        </a>
        <div class="flex gap-3 items-center">
            <a href="https://ranjithrrk.github.io/Energy-Insights/" class="text-[13px] px-4 py-2 rounded-md font-semibold border border-gray-200 hover:bg-gray-50 no-underline text-gray-900 transition-colors">
                Home
            </a>
            <a href="https://chat.whatsapp.com/GoCN0Hiyhac2Za1ocmVhrQ" target="_blank" class="text-[13px] px-4 py-2 rounded-md font-semibold bg-[#16a34a] text-white hover:bg-[#15803d] no-underline">
                Join Community
            </a>
        </div>
    </header>

    <main class="pt-28 pb-16 px-[5%] max-w-7xl mx-auto">
        <!-- Title Section -->
        <div class="mb-10 pb-5 border-b border-gray-100">
            <span class="inline-block text-[12px] font-bold text-[#2563eb] uppercase tracking-widest mb-3">Power Market Analysis</span>
            <h1 class="text-3xl md:text-4xl font-extrabold text-[#0f172a] tracking-tight leading-tight">IEX Power Analysis: Market Trends & Clearing Prices</h1>
        </div>

        <!-- Stats Summary -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
            <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm">
                <h3 class="text-xs font-bold text-gray-500 uppercase tracking-widest">Midday Price Compression</h3>
                <p class="text-2xl font-black mt-2 text-[#16a34a]">1.71 ₹/kWh</p>
                <p class="text-xs text-gray-400 mt-1 italic">Average lowest price block (2025 YTD)</p>
            </div>
            <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm">
                <h3 class="text-xs font-bold text-gray-500 uppercase tracking-widest">Evening Peak Premium</h3>
                <p class="text-2xl font-black mt-2 text-[#ef4444]">7.92 ₹/kWh</p>
                <p class="text-xs text-gray-400 mt-1 italic">Average peak recorded at 19:00 Hrs</p>
            </div>
        </div>

        <!-- Visualization Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
            <!-- Price Distribution Chart -->
            <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                <div class="mb-6">
                    <h2 class="text-lg font-bold text-[#0f172a]">Price Distribution Probability</h2>
                    <p class="text-sm text-gray-500">Trading hours spent within specific price bands (%)</p>
                </div>
                <div class="chart-container">
                    <canvas id="distributionChart"></canvas>
                </div>
            </div>

            <!-- Duck Curve Chart -->
            <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                <div class="mb-6">
                    <h2 class="text-lg font-bold text-[#0f172a]">The Solar "Duck" Curve</h2>
                    <p class="text-sm text-gray-500">Average price profile shift (₹/kWh) over 24 hours</p>
                </div>
                <div class="chart-container">
                    <canvas id="duckCurveChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Text Content -->
        <div class="mt-12 text-[#555555] text-lg leading-relaxed max-w-3xl">
            <p>This analysis highlights the structural shift in India's power markets. Increased solar penetration is driving midday prices toward the floor (below 2 ₹/kWh), while evening scarcity remains the primary price driver, often hitting the regulatory cap blocks in summer peak months.</p>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-[#0f172a] text-white py-16 px-[5%] text-center">
        <p class="opacity-70 text-sm">© 2024 Ranjith's Energy Digest. Independent Analysis & Data Intelligence.</p>
    </footer>

    <script>
        // Setup Distribution Chart
        const distCtx = document.getElementById('distributionChart').getContext('2d');
        new Chart(distCtx, {
            type: 'bar',
            data: {
                labels: ['2023', '2024', '2025'],
                datasets: [
                    { label: '< 2 ₹', data: [2, 6, 17], backgroundColor: '#166534' },
                    { label: '2-4 ₹', data: [42, 55, 52], backgroundColor: '#86efac' },
                    { label: '4-6 ₹', data: [24, 19, 15], backgroundColor: '#06b6d4' },
                    { label: '6-8 ₹', data: [8, 3, 2], backgroundColor: '#f59e0b' },
                    { label: '8-12 ₹', data: [24, 17, 14], backgroundColor: '#ef4444' }
                ]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'top', labels: { usePointStyle: true, padding: 20, font: { weight: '600' } } },
                    tooltip: { backgroundColor: '#0f172a', padding: 12, borderRadius: 8 }
                },
                scales: {
                    x: { stacked: true, display: false },
                    y: { stacked: true, grid: { display: false }, ticks: { font: { weight: 'bold', size: 14 } } }
                }
            }
        });

        // Setup Duck Curve Chart
        const duckCtx = document.getElementById('duckCurveChart').getContext('2d');
        const hourlyLabels = ["00:00", "01:00", "02:00", "03:00", "04:00", "05:00", "06:00", "07:00", "08:00", "09:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00", "24:00"];
        
        new Chart(duckCtx, {
            type: 'line',
            data: {
                labels: hourlyLabels,
                datasets: [
                    {
                        label: '2023',
                        data: [6.34, 5.73, 5.05, 4.58, 4.38, 4.83, 5.68, 5.99, 5.47, 5.19, 4.83, 4.30, 3.96, 3.47, 3.67, 4.23, 4.88, 5.92, 6.81, 8.44, 7.41, 7.10, 6.87, 6.72, 6.56],
                        borderColor: '#94a3b8',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        pointRadius: 0,
                        tension: 0.4
                    },
                    {
                        label: '2024',
                        data: [5.88, 5.09, 4.12, 3.72, 3.56, 3.52, 4.14, 4.78, 4.67, 4.13, 3.65, 3.16, 2.71, 2.34, 2.74, 3.14, 3.65, 4.87, 5.78, 7.19, 6.86, 6.72, 6.41, 6.32, 6.23],
                        borderColor: '#2563eb',
                        borderWidth: 2.5,
                        pointRadius: 0,
                        tension: 0.4
                    },
                    {
                        label: '2025 (YTD)',
                        data: [4.55, 4.09, 3.68, 3.42, 3.27, 3.46, 4.17, 4.73, 3.79, 3.04, 2.19, 2.02, 1.92, 1.71, 1.97, 2.33, 2.74, 3.75, 5.55, 7.92, 6.75, 6.26, 6.10, 5.76, 5.29],
                        borderColor: '#0f172a',
                        borderWidth: 4,
                        pointRadius: 0,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'top', labels: { usePointStyle: true, padding: 20, font: { weight: '600' } } },
                    tooltip: { backgroundColor: '#0f172a', padding: 12, borderRadius: 8 }
                },
                scales: {
                    x: { grid: { display: false }, ticks: { callback: function(val, index) { return index % 4 === 0 ? this.getLabelForValue(val) : ''; } } },
                    y: { grid: { color: '#f8fafc' }, ticks: { callback: value => '₹' + value } }
                }
            }
        });
    </script>
</body>
</html>
